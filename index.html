<h1 id="num"></h1><br>
<main class="px-3">



</main>
<script>
    // Функция для получения SHA-256 хэша
    async function sha256(message) {
        const msgBuffer = new TextEncoder().encode(message);
        const hashBuffer = await crypto.subtle.digest('SHA-256', msgBuffer);
        const hashArray = Array.from(new Uint8Array(hashBuffer));
        const hashHex = hashArray.map(b => b.toString(16).padStart(2, '0')).join('');
        return hashHex;
    }

    // Функция для генерации шестизначного кода
    async function generateCode(inputString) {
        const currentTimeUTC = new Date().toISOString().slice(0, 16).replace('T', ' '); // Текущее время в UTC с точностью до минут
        const combinedString = currentTimeUTC + inputString;
        const hash = await sha256(combinedString);
        const hashNumber = parseInt(hash.substring(0, 15), 16);
        const hashNumberStr = (hashNumber+'').substring(0, 10);
        const code = hashNumberStr.slice(-6);
        return code;
    }

    setInterval(async function () {
        const code = await generateCode("exampleString");
        document.getElementById('num').innerHTML = code;
    }, 1000);

</script>
